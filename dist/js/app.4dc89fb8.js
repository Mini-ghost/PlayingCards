(function(t){function e(e){for(var a,c,i=e[0],o=e[1],l=e[2],p=0,f=[];p<i.length;p++)c=i[p],r[c]&&f.push(r[c][0]),r[c]=0;for(a in o)Object.prototype.hasOwnProperty.call(o,a)&&(t[a]=o[a]);u&&u(e);while(f.length)f.shift()();return n.push.apply(n,l||[]),s()}function s(){for(var t,e=0;e<n.length;e++){for(var s=n[e],a=!0,i=1;i<s.length;i++){var o=s[i];0!==r[o]&&(a=!1)}a&&(n.splice(e--,1),t=c(c.s=s[0]))}return t}var a={},r={app:0},n=[];function c(e){if(a[e])return a[e].exports;var s=a[e]={i:e,l:!1,exports:{}};return t[e].call(s.exports,s,s.exports,c),s.l=!0,s.exports}c.m=t,c.c=a,c.d=function(t,e,s){c.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},c.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},c.t=function(t,e){if(1&e&&(t=c(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(c.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)c.d(s,a,function(e){return t[e]}.bind(null,a));return s},c.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return c.d(e,"a",e),e},c.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},c.p="";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],o=i.push.bind(i);i.push=e,i=i.slice();for(var l=0;l<i.length;l++)e(i[l]);var u=o;n.push([0,"chunk-vendors"]),s()})({0:function(t,e,s){t.exports=s("56d7")},"0bdd":function(t,e,s){"use strict";var a=s("d76a"),r=s.n(a);r.a},"0cfb":function(t,e,s){},"0ff1":function(t,e,s){},"529e":function(t,e,s){"use strict";var a=s("ffca"),r=s.n(a);r.a},"56d7":function(t,e,s){"use strict";s.r(e);s("cadf"),s("551c"),s("f751"),s("097d");var a=s("2b0e"),r=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"app"}},[s("main",[s("section",{attrs:{id:"game"}},[s("div",{staticClass:"containt"},[s("div",{staticClass:"tool"},[s("Counter",{attrs:{status:t.inGame,type:t.type},on:{"status-change":t.statusChangeHandler}}),s("Controller",{attrs:{status:t.inGame,type:t.type,leavles:t.leavles},on:{"status-change":t.statusChangeHandler,"leavl-change":t.leavlChangeHandler}})],1),s("Tips"),s("Cards",{attrs:{status:t.inGame,type:t.type,leavles:t.leavles},on:{"status-change":t.statusChangeHandler}})],1)]),"success"===t.type?s("Scoreboard",{attrs:{"leavle-on":t.leavleOn},on:{"status-change":t.statusChangeHandler}}):t._e()],1)])},n=[],c=(s("7514"),s("ac6a"),function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("transition-group",{staticClass:"card",attrs:{tag:"div",name:"shuffle"}},[t._l(t.cardsData,function(e,a){return s("div",{key:e.name+e.text,staticClass:"card-containt",class:e.active?"card-containt--active":"",on:{click:function(s){return t.selectHandler(e,a)}}},[s("div",{staticClass:"card-face"},[s("div",{staticClass:"card-face__front"},[e.show?s("div",{staticClass:"card-face__wrap",class:["card-face__wrap--"+e.name,"card-face__wrap--"+e.color]},[s("div",{staticClass:"card-face__corner card-face__corner--top fz-24 fz-mm-14 fz-ms-18"},[s("div",{staticClass:"card-num"},[t._v(t._s(e.text))])]),s("div",{staticClass:"card-face__corner card-face__corner--bottom fz-24 fz-mm-14 fz-ms-18"},[s("div",{staticClass:"card-num"},[t._v(t._s(e.text))])]),e.symbols?s("div",{staticClass:"card-face__center"},t._l(e.symbols,function(t){return s("div",{staticClass:"card-face__symbol",class:[{"card-face__symbol--flip":t.flip},"A"===e.text?"fz-72 fz-mm-36 fz-ms-52":"fz-36 fz-mm-24"],style:"left:"+t.left+"; top:"+t.top+";"})}),0):s("div",{staticClass:"card-face__center"},[s("div",{staticClass:"card-face__text fz-52"},[t._v(t._s(e.text))])])]):t._e()]),s("div",{staticClass:"card-face__back"},[s("div",{staticClass:"card-face__wrap"})])])])}),s("div",{key:"clear",staticClass:"card-clear"})],2)}),i=[],o=(s("7f7f"),s("55dd"),{name:"Cards",props:{status:{type:Boolean,required:!0},type:{type:String,required:!0},leavles:{type:Array,required:!0}},data:function(){return{quantity:this.quantityInitHandler(),items:[{name:"spades",color:"black"},{name:"hearts",color:"red"},{name:"diamonds",color:"red"},{name:"clubs",color:"black"}],cardsData:new Object,activeCards:new Array,activeIndex:new Array,isGameOver:!1}},mounted:function(){this.cardsData=this.cardsCreateHandler()},methods:{quantityInitHandler:function(){var t=this.leavles.filter(function(t){return!0===t.type});return t[0].num},cardsSymbolsHandler:function(t){switch(t){case 0:return[{left:"50%",top:"50%"}];case 1:return[{left:"50%",top:"20%"},{left:"50%",top:"80%",flip:!0}];case 2:return[{left:"50%",top:"50%"},{left:"50%",top:"20%"},{left:"50%",top:"80%",flip:!0}];case 3:return[{left:"33%",top:"20%"},{left:"33%",top:"80%",flip:!0},{left:"67%",top:"20%"},{left:"67%",top:"80%",flip:!0}];case 4:return[{left:"50%",top:"50%"},{left:"33%",top:"20%"},{left:"33%",top:"80%",flip:!0},{left:"67%",top:"20%"},{left:"67%",top:"80%",flip:!0}];case 5:return[{left:"33%",top:"50%"},{left:"33%",top:"20%"},{left:"33%",top:"80%",flip:!0},{left:"67%",top:"50%"},{left:"67%",top:"20%"},{left:"67%",top:"80%",flip:!0}];case 6:return[{left:"33%",top:"50%"},{left:"33%",top:"20%"},{left:"33%",top:"80%",flip:!0},{left:"67%",top:"50%"},{left:"67%",top:"20%"},{left:"67%",top:"80%",flip:!0},{left:"50%",top:"35%"}];case 7:return[{left:"33%",top:"20%"},{left:"33%",top:"40%"},{left:"33%",top:"60%",flip:!0},{left:"33%",top:"80%",flip:!0},{left:"67%",top:"20%"},{left:"67%",top:"40%"},{left:"67%",top:"60%",flip:!0},{left:"67%",top:"80%",flip:!0}];case 8:return[{left:"50%",top:"50%"},{left:"33%",top:"20%"},{left:"33%",top:"40%"},{left:"33%",top:"60%",flip:!0},{left:"33%",top:"80%",flip:!0},{left:"67%",top:"20%"},{left:"67%",top:"40%"},{left:"67%",top:"60%",flip:!0},{left:"67%",top:"80%",flip:!0}];case 9:return[{left:"50%",top:"35%"},{left:"50%",top:"65%",flip:!0},{left:"33%",top:"20%"},{left:"33%",top:"40%"},{left:"33%",top:"60%",flip:!0},{left:"33%",top:"80%",flip:!0},{left:"67%",top:"20%"},{left:"67%",top:"40%"},{left:"67%",top:"60%",flip:!0},{left:"67%",top:"80%",flip:!0}]}},cardsNumberHandler:function(t){switch(t){case 0:return"A";case 10:return"J";case 11:return"Q";case 12:return"K";default:return""+(t+1)}},cardsShuffleHandler:function(t){t.sort(function(){return Math.random()>.5?1:-1})},cardsCreateHandler:function(){for(var t=0,e=this.items.length,s=new Array;t<e;t++)for(var a=this.items[t],r=0;r<this.quantity;r++){var n=new Object;n.name=a.name,n.color=a.color,n.num=r+1,n.text=this.cardsNumberHandler(r),n.symbols=this.cardsSymbolsHandler(r),n.active=!1,n.show=!1,s.push(n)}return this.cardsShuffleHandler(s),s},selectHandler:function(t,e){var s=this,a=this.activeCards,r=this.activeIndex;this.status&&(t.active||2===r.length||(t.active=!0,t.show=!0,a.push(t),r.push(e),r.length<2||(a[0].num===a[1].num?(a.length=0,r.length=0):setTimeout(function(){a[0].active=!1,a[1].active=!1,a.length=0,setTimeout(function(){s.cardsData[r[0]].show=!1,s.cardsData[r[1]].show=!1,r.length=0},100)},1e3),this.isGameOver=this.cardsData.every(function(t){return t.active}))))},resetCardHanler:function(t){var e=this,s=this.cardsData.some(function(t){return!0===t.active});this.cardsData.forEach(function(e){e.active=t}),setTimeout(function(){e.cardsShuffleHandler(e.cardsData)},s?500:0),this.activeCards=new Array,this.activeIndex=new Array,this.$emit("status-change",!1,"stop")}},watch:{isGameOver:function(){this.isGameOver&&(this.$parent.inGame=!1,this.$emit("status-change",!1,"success"))},type:function(){"reset"===this.type&&this.resetCardHanler(!1)},leavles:{handler:function(){this.quantity=this.quantityInitHandler(),this.cardsData=this.cardsCreateHandler()},deep:!0}}}),l=o,u=(s("f485"),s("2877")),p=Object(u["a"])(l,c,i,!1,null,null,null),f=p.exports,m=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"counter"},[s("div",{staticClass:"counter-text fz-72"},[t._v(t._s(t.timeText.join(":")))])])},d=[],v=(s("c5f6"),{name:"Counter",props:{status:{type:Boolean,required:!0},type:{type:String,required:!0}},data:function(){return{timeText:["00","00"],sec:0,timerId:new Number}},methods:{timerHandler:function(){var t=this.sec,e=~~(t/3600),s=~~((t-3600*e)/60),a=t-3600*e-60*s;s=s>9?s:"0"+s,a=a>9?a:"0"+a,this.sec++,this.timeText=[e,s,a].filter(function(t){return t}),this.timerId=setTimeout(this.timerHandler,1e3)}},watch:{type:function(){if(this.status&&"start"===this.type)this.timerHandler();else if("success"===this.type)clearTimeout(this.timerId),this.$bus.$emit("successEvent",[this.timeText,this.sec]);else{if(clearTimeout(this.timerId),"stop"===this.type)return;this.sec=0,this.timeText=["00","00"]}}}}),h=v,_=(s("529e"),Object(u["a"])(h,m,d,!1,null,null,null)),y=_.exports,b=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"controller"},[s("div",{staticClass:"controller-containt"},[s("div",{staticClass:"controller-content fz-12",class:t.status?"controller-content--enable":""},t._l(t.leavles,function(e){return s("button",{staticClass:"controller__button",class:[e.type?"controller__button--active":""],on:{click:function(s){return t.leavleSelectHandler(e.rank)}}},[t._v(t._s(e.text))])}),0),s("div",{staticClass:"controller-content fz-14"},t._l(t.buttonComputed,function(e){return s("button",{staticClass:"controller__button",class:"controller__button--"+e.type,on:{click:function(s){return t.gameContorHandler(e.type)}}},[t._v(t._s(e.text))])}),0)])])},C=[],g={name:"Controller",props:{status:{type:Boolean,required:!0},type:{type:String,required:!0},leavles:{type:Array,required:!0}},data:function(){return{buttonData:[{text:"開始遊戲",type:"start"},{text:"遊戲暫停",type:"stop"},{text:"重新洗牌",type:"reset"}]}},methods:{gameContorHandler:function(t){switch(t){case"start":this.$emit("status-change",!0,t);break;case"reset":case"stop":this.$emit("status-change",!1,t);break}},leavleSelectHandler:function(t){"start"!==this.type&&(this.$emit("leavl-change",t),this.$emit("status-change",!1,"reset"))}},computed:{buttonComputed:function(){var t=this;return this.buttonData.forEach(function(e){"reset"===e.type?e.show=!0:"start"===e.type?e.show=!t.status:"stop"===e.type&&(e.show=t.status)}),this.buttonData.filter(function(t){return t.show})}}},w=g,x=(s("0bdd"),Object(u["a"])(w,b,C,!1,null,null,null)),H=x.exports,D=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("transition",{attrs:{name:"slide-top",appear:""}},[s("section",{attrs:{id:"scoreboard"}},[s("div",{staticClass:"containt"},[s("div",{staticClass:"scoreboard"},[s("div",{staticClass:"scoreboard-cover"}),s("div",{staticClass:"scoreboard-containt"},[s("div",{staticClass:"scoreboard-title"},[s("div",{staticClass:"scoreboard-title__ch fz-52 fz-mm-36 fz-ms-24"},[t._v("成績統計")]),s("div",{staticClass:"scoreboard-title__en"})]),s("div",{staticClass:"scoreboard-userTime fz-24 fz-mm-24"},[t._v("花費時間為 "+t._s(t.userData.score))]),s("div",{staticClass:"scoreboard-leavle"},[t._v("遊戲難易度："+t._s(t.leavleOn.text))]),s("transition-group",{staticClass:"scoreboard-group fz-24 fz-mm-16",attrs:{tag:"div",name:"slide-bottom",appear:""}},t._l(t.scoreData,function(e,a){return s("div",{key:e.timestamp,staticClass:"scoreboard-group__item",class:t.userData.timestamp===e.timestamp?"scoreboard-group__item--active":"",style:"transition-delay: "+(0===a?a:.125*a)+"s;"},[s("div",{staticClass:"scoreboard-group__id"},[t._v("第 "+t._s(a+1>=10?a+1:"0"+(a+1))+" 名")]),s("div",{staticClass:"scoreboard-group__score"},[t._v(t._s(e.score))]),s("div",{staticClass:"scoreboard-group__timestamp fz-12"},[t._v(t._s(t.getDateHandler(e.timestamp)))])])}),0),s("div",{staticClass:"scoreboard-close fz-14"},[s("span",{staticClass:"scoreboard-close__button",on:{click:t.closeHandler}},[t._v("CLOSE")])])],1)])])])])},O=[],z=s("f2a0"),k=s("59ca");s("66ce"),k.initializeApp(z["a"]);var S={name:"Scoreboard",props:{leavleOn:{type:Object,required:!0}},data:function(){return{fireBaseData:{1561428058946:{score:"00:18",sec:19,timestamp:1561428058946},1561428405612:{score:"00:27",sec:28,timestamp:1561428405612},1561429115530:{score:"00:15",sec:16,timestamp:1561429115530},1561429164697:{score:"00:19",sec:20,timestamp:1561429164697},1561429206316:{score:"00:24",sec:25,timestamp:1561429206316},1561429312040:{score:"00:17",sec:18,timestamp:1561429312040},1561429350775:{score:"00:16",sec:17,timestamp:1561429350775},1561429477351:{score:"00:15",sec:16,timestamp:1561429477351},1561429631553:{score:"00:16",sec:17,timestamp:1561429631553},1561429663332:{score:"00:20",sec:21,timestamp:1561429663332},1561429663825:{score:"00:24",sec:25,timestamp:1561429663825},1561429683105:{score:"00:14",sec:15,timestamp:1561429683105},1561429702160:{score:"00:15",sec:16,timestamp:1561429702160},1561429702161:{score:"00:15",sec:16,timestamp:1561429702161},1561429702162:{score:"00:15",sec:16,timestamp:1561429702162},1561429718577:{score:"00:14",sec:15,timestamp:1561429718577},1561429724958:{score:"00:18",sec:19,timestamp:1561429724958},1561429738345:{score:"00:18",sec:19,timestamp:1561429738345},1561429759392:{score:"00:17",sec:18,timestamp:1561429759392},1561429759393:{score:"00:17",sec:18,timestamp:1561429759393},1561429759396:{score:"00:17",sec:18,timestamp:1561429759396},1561429801730:{score:"00:19",sec:20,timestamp:1561429801730},1561429801736:{score:"00:19",sec:20,timestamp:1561429801736},1561429822528:{score:"00:13",sec:14,timestamp:1561429822528},1561429822532:{score:"00:13",sec:14,timestamp:1561429822532},1561429841523:{score:"00:13",sec:14,timestamp:1561429841523},1561429841524:{score:"00:13",sec:14,timestamp:1561429841524},1561429863097:{score:"00:14",sec:15,timestamp:1561429863097},1561429863103:{score:"00:14",sec:15,timestamp:1561429863103},1561429884464:{score:"00:14",sec:15,timestamp:1561429884464},1561429884472:{score:"00:14",sec:15,timestamp:1561429884472},1561429905400:{score:"00:18",sec:19,timestamp:1561429905400},1561429924056:{score:"00:16",sec:17,timestamp:1561429924056},1561430819457:{score:"00:11",sec:12,timestamp:1561430819457},1561431383100:{score:"00:16",sec:17,timestamp:1561431383100},1561431458908:{score:"00:16",sec:17,timestamp:1561431458908},1561431683417:{score:"00:20",sec:21,timestamp:1561431683417},1561431729024:{score:"00:23",sec:24,timestamp:1561431729024},1561432009895:{score:"00:16",sec:17,timestamp:1561432009895},1561432033587:{score:"00:17",sec:18,timestamp:1561432033587},1561432235409:{score:"00:12",sec:13,timestamp:1561432235409},1561432407193:{score:"00:12",sec:13,timestamp:1561432407193},1561432407194:{score:"00:12",sec:13,timestamp:1561432407194},1561432721336:{score:"00:12",sec:13,timestamp:1561432721336},1561432749731:{score:"00:14",sec:15,timestamp:1561432749731},1561432783563:{score:"00:16",sec:17,timestamp:1561432783563},1561433113570:{score:"00:14",sec:15,timestamp:1561433113570},1561433714411:{score:"00:22",sec:23,timestamp:1561433714411},1561434049885:{score:"00:15",sec:16,timestamp:1561434049885}},scoreData:new Array,userData:{score:null,timestamp:null}}},mounted:function(){this.$bus.$once("successEvent",this.scoreTimeHandler)},methods:{scoreTimeHandler:function(t){var e=this,s=t[0].join(":"),a=t[1],r=+new Date,n="".concat(this.leavleOn.rank,"/").concat(r),c=k.database(),i=c.ref("/playingCards/".concat(n,"/")),o=c.ref("/playingCards/".concat(this.leavleOn.rank,"/"));this.userData={score:s,timestamp:r},i.set({score:s,sec:a,timestamp:r}),o.once("value").then(function(t){var s=e.fireBaseData=t.val();for(var a in s)e.scoreData.push(s[a]);e.scoreData=e.scoreData.sort(function(t,e){return t.sec-e.sec}),e.scoreData.length=10})},getDateHandler:function(t){var e=new Date(t),s=e.getFullYear(),a=e.getMonth()+1,r=e.getDate(),n=e.getHours(),c=e.getMinutes(),i=e.getSeconds();return"".concat(s,"-").concat(a,"-").concat(r,", ").concat(n||"0"+n,":").concat(c>9?c:"0"+c,":").concat(i>9?i:"0"+i)},closeHandler:function(){this.$emit("status-change",!1,"reset")}}},T=S,$=(s("5a20"),Object(u["a"])(T,D,O,!1,null,null,null)),j=$.exports,q=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"tips"},[s("transition-group",{staticClass:"tips-group",attrs:{tag:"ul",name:"fade",appear:""}},t._l(t.tips,function(e,a){return s("li",{key:a,staticClass:"tips-group__item fz-14",class:"tips-group__item--"+e.type},[t._v(t._s(e.content))])}),0)],1)},A=[],E={name:"Tips",data:function(){return{tips:[{type:"success",content:"請嘗試翻開撲克牌，並配對「點數相同」的卡牌。"}]}}},G=E,I=(s("bb34"),Object(u["a"])(G,q,A,!1,null,null,null)),M=I.exports,P={name:"App",components:{Cards:f,Counter:y,Controller:H,Scoreboard:j,Tips:M},data:function(){return{inGame:!1,type:"stop",leavles:[{rank:"easily",text:"簡單",num:3,type:!0},{rank:"general",text:"中等",num:6,type:!1},{rank:"difficult",text:"困難",num:9,type:!1},{rank:"varyDifficult",text:"最難",num:13,type:!1}]}},methods:{statusChangeHandler:function(t,e){this.inGame=t,this.type=e},leavlChangeHandler:function(t){this.leavles.forEach(function(e){e.type=e.rank===t})}},computed:{leavleOn:function(){return this.leavles.find(function(t){return!0===t.type})}}},B=P,J=(s("cf25"),Object(u["a"])(B,r,n,!1,null,null,null)),N=J.exports;a["a"].config.productionTip=!1,a["a"].prototype.$bus=new a["a"],new a["a"]({render:function(t){return t(N)}}).$mount("#app")},"5a20":function(t,e,s){"use strict";var a=s("65e2"),r=s.n(a);r.a},"65e2":function(t,e,s){},bb34:function(t,e,s){"use strict";var a=s("0ff1"),r=s.n(a);r.a},c80f:function(t,e,s){},cf25:function(t,e,s){"use strict";var a=s("0cfb"),r=s.n(a);r.a},d76a:function(t,e,s){},f485:function(t,e,s){"use strict";var a=s("c80f"),r=s.n(a);r.a},ffca:function(t,e,s){}});
//# sourceMappingURL=app.4dc89fb8.js.map